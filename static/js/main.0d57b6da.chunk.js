(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(33)},27:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n(7),u=n(2),s=n(3),o=[],i=0,m=function(e){return e.measurements.map(function(t){return{date:new Date(1e3*t[0]),details:JSON.stringify(t[1]),type:e.name,unit:e.unit||"",id:i++}})},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_MEASUREMENT":return console.log(n),Object(s.a)((e=n.payload,e.map(m).reduce(function(e,t){return Object(s.a)(e).concat(Object(s.a)(t))},[]))).concat(Object(s.a)(t)).slice(0,20);default:return t}},p=Object(u.c)({measurements:d}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,b=Object(u.e)(p,E(u.a.apply(void 0,[]))),f=n(4),h=n(5),O=n(8),v=n(6),y=n(9),j=(n(27),n(29),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(O.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleNewMeasurements=function(e){console.log("handleNewMeasurements",e),n.props.addMeasurements(e)},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.stopMeasurementsListen=function(e,t){var n,a,r,l=function(){a="",n&&n.abort(),(n=new XMLHttpRequest).onreadystatechange=function(){var e=this.responseText.substr(a.length).substr("data:".length).trim();if(a=this.responseText,e){var n=JSON.parse(e);t(n)}},n.open("GET",e,!0),n.send()};return r=setInterval(l,6e4),l(),function(){n&&n.abort(),clearInterval(r)}}("https://jsdemo.envdev.io/sse",this.handleNewMeasurements)}},{key:"render",value:function(){return r.a.createElement("div",{className:"measurements-table"},r.a.createElement("table",{className:"measurements-table__table"},r.a.createElement("caption",{className:"measurements-table__caption"},"Measurements Table"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Unit"),r.a.createElement("th",null,"Details"))),r.a.createElement("tbody",null,this.props.measurements.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.date.toLocaleTimeString()),r.a.createElement("td",null,e.type),r.a.createElement("td",null,r.a.createElement("code",null,e.unit)),r.a.createElement("td",null,r.a.createElement("pre",null,r.a.createElement("code",null,e.details))))}))))}},{key:"componentWillUnmount",value:function(){console.log("xxx")}}]),t}(r.a.Component)),w=Object(c.b)(function(e){return{measurements:e.measurements}},{addMeasurements:function(e){return{type:"ADD_MEASUREMENT",payload:e}}})(j),M=function(e){function t(){return Object(f.a)(this,t),Object(O.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))}}]),t}(a.Component);n(31);Object(l.render)(r.a.createElement(c.a,{store:b},r.a.createElement(M,null)),document.getElementById("root"))}},[[17,2,1]]]);
//# sourceMappingURL=main.0d57b6da.chunk.js.map